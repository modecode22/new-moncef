---
import { getCollection } from 'astro:content';
import BlogLayout from '../../layouts/BlogLayout.astro';
import type { AstroComponentFactory } from 'astro/runtime/server/index.js';
import type { MarkdownHeading } from 'astro';
// 1. Generate a new path for every collection entry
export async function getStaticPaths() {
  const blogEntries = await getCollection('blogs');
  return blogEntries.map(entry => ({
    params: { slug: entry.slug }, props: { entry },
  }));
}

type Props = {
    entry: {
    id: "do.mdx";
    slug: "do";
    body: string;
    collection: "blogs";
    data: {
        title: string;
        description: string;
        author: string;
        date: string;
        img: string;
    };
} & {
    render(): Promise<{
        Content: AstroComponentFactory;
        headings: MarkdownHeading[];
        remarkPluginFrontmatter: {
          minutesRead : string
        }
    }>
}
  }
// 2. For your template, you can get the entry directly from the prop
const { entry } = Astro.props;
const { Content,remarkPluginFrontmatter  } = await entry.render();
console.log(entry.data.img);

---


<BlogLayout title={entry.data.title} description={entry.data.description} >
  <h1>{entry.data.title}</h1>
  <img src={entry.data.img} class="aspect-video" alt="this is an image ">
  <h5>{remarkPluginFrontmatter.minutesRead}</h5>
  <Content />
</BlogLayout>